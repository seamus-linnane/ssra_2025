# üìÑ PFT XML Extraction

This folder contains a utility for extracting structured data from pulmonary function test (PFT) XML files generated by **COSMED** hardware using the **OMNIA** software suite. It converts each test file into both JSON (for structured access) and CSV (for analysis and modelling).

The notebook supports the extraction of scalar values (e.g. FEV1, FVC, DLCO) and digitized flow-volume loop data from the XML files. It also includes basic logic for classifying airway obstruction based on GOLD criteria.

---

## üöÄ Getting Started

1. Install dependencies:
   ```bash
   pip install -r requirements.txt
   ```

2. Place your XML files (exported from the COSMED/OMNIA system) in the `input/` directory.

3. Run the notebook (`pft_xml.ipynb`) in your Jupyter environment.

4. Output files will be saved to the `output/` directory:
   - `{filename}_extracted.json`: structured hierarchical data (demographics, visit metadata, tests, parameters, graphs)
   - `{filename}_extracted.csv`: flattened row for spreadsheet or model input

---

## üßæ Dependencies

- `pandas`
- `lxml`
- `matplotlib`

Optional: use a virtual environment (e.g. `conda` or `venv`) for project isolation.

---

## ‚ö†Ô∏è Source and Format

The XML files used here are:
- Exported directly from the lung function lab computer
- Generated by **COSMED** diagnostic equipment
- Structured according to the **OMNIA software‚Äôs proprietary schema**

Note: This format is not public or standardized and may change with OMNIA software updates.

---

## üìú License

This project is released under the [Creative Commons Attribution-NonCommercial 4.0 License](https://creativecommons.org/licenses/by-nc/4.0/), in line with the rest of this repository.
